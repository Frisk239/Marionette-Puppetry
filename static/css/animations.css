/* 动画效果样式 */

/* 页面加载动画 */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* 应用到元素 */
.hero-content {
    animation: fadeInLeft 1s ease-out;
}

.hero-visual {
    animation: fadeInRight 1s ease-out;
}

.feature-card {
    animation: fadeInUp 0.6s ease-out;
}

.feature-card:nth-child(1) { animation-delay: 0.1s; }
.feature-card:nth-child(2) { animation-delay: 0.2s; }
.feature-card:nth-child(3) { animation-delay: 0.3s; }
.feature-card:nth-child(4) { animation-delay: 0.4s; }

/* 木偶控制动画 */
@keyframes puppetMove {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(5deg); }
    50% { transform: rotate(0deg); }
    75% { transform: rotate(-5deg); }
    100% { transform: rotate(0deg); }
}

.puppet-avatar {
    animation: puppetMove 2s ease-in-out infinite;
}

/* 按钮悬停效果 */
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(200, 16, 46, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(200, 16, 46, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(200, 16, 46, 0);
    }
}

.btn-primary:hover {
    animation: pulse 1.5s infinite;
}

/* 滚动动画 */
@keyframes slideInFromBottom {
    from {
        opacity: 0;
        transform: translateY(50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.scroll-animate {
    animation: slideInFromBottom 0.8s ease-out;
}

/* 打字机效果 */
@keyframes typing {
    from { width: 0; }
    to { width: 100%; }
}

@keyframes blink {
    50% { border-color: transparent; }
}

.typewriter {
    overflow: hidden;
    border-right: 3px solid var(--primary-red);
    white-space: nowrap;
    animation: typing 3.5s steps(40, end), blink 0.75s step-end infinite;
}

/* 波纹效果 */
@keyframes ripple {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(4);
        opacity: 0;
    }
}

.ripple-effect {
    position: relative;
    overflow: hidden;
}

.ripple-effect::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 215, 0, 0.5);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: ripple 1s ease-out;
}

/* 木偶关节动画 */
@keyframes jointMove {
    0% { transform: rotate(0deg); }
    50% { transform: rotate(var(--target-rotation, 45deg)); }
    100% { transform: rotate(0deg); }
}

.puppet-joint {
    transform-origin: center;
    transition: transform 0.3s ease;
}

.puppet-joint.animate {
    animation: jointMove 1s ease-in-out;
}

/* 聊天消息动画 */
@keyframes messageSlideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes messageSlideInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.message.user {
    animation: messageSlideInRight 0.3s ease-out;
}

.message.bot {
    animation: messageSlideIn 0.3s ease-out;
}

/* 加载动画 */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-spinner {
    border: 4px solid var(--light-gold);
    border-top: 4px solid var(--primary-red);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

/* 故事生成动画 */
@keyframes storyReveal {
    from {
        opacity: 0;
        max-height: 0;
    }
    to {
        opacity: 1;
        max-height: 500px;
    }
}

.story-content {
    animation: storyReveal 0.8s ease-out;
}

/* 悬停缩放效果 */
@keyframes scaleUp {
    from {
        transform: scale(1);
    }
    to {
        transform: scale(1.05);
    }
}

.hover-scale:hover {
    animation: scaleUp 0.3s ease-out forwards;
}

/* 背景粒子效果 */
@keyframes particleFloat {
    0% {
        transform: translateY(100vh) translateX(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) translateX(100px);
        opacity: 0;
    }
}

.particle {
    position: fixed;
    width: 4px;
    height: 4px;
    background: var(--gold);
    border-radius: 50%;
    animation: particleFloat 10s linear infinite;
}

/* 响应式动画调整 */
@media (max-width: 768px) {
    .hero-content,
    .hero-visual {
        animation: fadeInUp 1s ease-out;
    }
    
    .feature-card {
        animation: fadeInUp 0.6s ease-out;
    }
}
